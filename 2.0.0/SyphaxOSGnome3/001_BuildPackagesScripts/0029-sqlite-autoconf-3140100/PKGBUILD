# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=sqlite
pkgver=3140100
pkgrel=1
pkgdesc="The SQLite package is a software library that implements a self-contained, serverless, zero-configuration, transactional SQL database engine."
arch=('x86_64')
url="http://sqlite.org/2016"
license=('GPL')
groups=('core')
source=("$url/${pkgname}-autoconf-${pkgver}.tar.gz")
md5sums=('3634a90a3f49541462bcaed3474b2684')
depends=('rootfs>=2.0.0')

prepare() {
   cd "$srcdir/$pkgname-autoconf-$pkgver"
}

build() {
   cd "$srcdir/$pkgname-autoconf-$pkgver"

   ./configure --prefix=/usr --disable-static        \
               CFLAGS="-g -O2 -DSQLITE_ENABLE_FTS3=1 \
               -DSQLITE_ENABLE_COLUMN_METADATA=1     \
               -DSQLITE_ENABLE_UNLOCK_NOTIFY=1       \
               -DSQLITE_SECURE_DELETE=1              \
               -DSQLITE_ENABLE_DBSTAT_VTAB=1"

   make
}

package() {
   cd "$srcdir/$pkgname-autoconf-$pkgver"

   make DESTDIR="$pkgdir" install
}

