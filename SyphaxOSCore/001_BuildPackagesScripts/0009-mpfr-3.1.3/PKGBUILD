# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=mpfr
pkgver=3.1.3
pkgrel=1
pkgdesc="The MPFR package contains functions for multiple precision math."
arch=('x86_64')
url="http://www.mpfr.org/mpfr-3.1.3"
license=('GPL')
groups=('core')
source=("$url/$pkgname-$pkgver.tar.xz")
md5sums=('6969398cd2fbc56a6af570b5273c56a9')
depends=('rootfs>=1.0.0')

prepare() {
        cd "$srcdir/$pkgname-$pkgver"
        
        patch -Np1 -i ../../mpfr-3.1.3-upstream_fixes-2.patch
}

build() {
        cd "$srcdir/$pkgname-$pkgver"
        
        ./configure --prefix=/usr        \
                    --disable-static     \
                    --enable-thread-safe \
                    --docdir=/usr/share/doc/mpfr-3.1.3

        make
        make html
}

package() {
        cd "$srcdir/$pkgname-$pkgver"
        
        make DESTDIR="$pkgdir/" install
        make DESTDIR="$pkgdir/" install-html
}
