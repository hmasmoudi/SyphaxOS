# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=util-linux
pkgver=2.30.1
pkgrel=2
pkgdesc="The Util-linux package contains miscellaneous utility programs. Among them are utilities for handling file systems, consoles, partitions, and messages."
arch=('x86_64')
url="https://www.kernel.org/pub/linux/utils/util-linux/v2.30"
license=('GPL')
groups=('core')
source=("$url/$pkgname-$pkgver.tar.xz")
sha256sums=('1be4363a91ac428c9e43fc04dc6d2c66a19ec1e36f1105bd4b481540be13b841')
depends=('rootfs')

build() {
   cd "$srcdir/$pkgname-$pkgver"

   ./configure ADJTIME_PATH=/var/lib/hwclock/adjtime      \
              --docdir=/usr/share/doc/util-linux-$pkgver \
              --disable-chfn-chsh  \
              --disable-login      \
              --disable-nologin    \
              --disable-su         \
              --disable-setpriv    \
              --disable-runuser    \
              --disable-pylibmount \
              --disable-static     \
              --without-python     \
              --enable-libmount-force-mountinfo

   make
}

package() {
   cd "$srcdir/$pkgname-$pkgver"

   mkdir -pv $pkgdir/var/lib/hwclock
   make DESTDIR="$pkgdir" install
}

