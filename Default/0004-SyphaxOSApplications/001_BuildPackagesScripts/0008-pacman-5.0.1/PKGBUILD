# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=pacman
pkgver=5.0.1
pkgrel=1
pkgdesc="SyphaxOS Package Manager."
arch=('x86_64')
url="https://git.archlinux.org/pacman.git/snapshot"
license=('GPL')
groups=('applications')
install=${pkgname}.install
source=("$url/${pkgname}-${pkgver}.tar.xz"
        "pacman.install"
        "pub.key")
md5sums=('79d1418d4dff1c2903329ad61d989324'
         '4baafba8044fb0c62d636e29147e2762'
         'afae51776eeb25edb91ec4b1b5aa5219')
depends=('rootfs>=2.0.0'
         'asciidoc-8.6.9'
         'npth>=1.2'
         'libksba>=1.3.5'
         'libassuan>=2.4.3'
         'pinentry>=0.9.7'
         'gnupg>=2.1.15'
         'fakeroot>=1.20.2'
)

prepare() {
   cd "$srcdir/${pkgname}-${pkgver}"
}

build() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   ./autogen.sh
   ./configure --prefix=/usr
   
   make
}

package() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   make DESTDIR="${pkgdir}" install
   
   cp ../../pub.key ${pkgdir}/usr/etc/pub.key
}

