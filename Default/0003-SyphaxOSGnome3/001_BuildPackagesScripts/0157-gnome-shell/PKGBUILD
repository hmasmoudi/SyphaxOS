# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=gnome-shell
pkgver=3.24.2
pkgrel=2
pkgdesc="The GNOME Shell is the desktop user interface of the GNOME Desktop environment."
arch=('x86_64')
url="http://ftp.gnome.org/pub/gnome/sources/gnome-shell/3.24"
license=('GPL')
groups=('desktop')
source=("$url/${pkgname}-${pkgver}.tar.xz")
sha256sums=('70c79a38b5aa19b0a8f73d833ceba2648bce319f9e5e96f567f4efdc2a63e2f6')
depends=('rootfs>=2.0.0')

prepare() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   sed -i "/seems to be moved/s/^/#/" config/ltmain.sh
}

build() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   ./configure --prefix=/usr --disable-compile-warnings

   make
}

package() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   make DESTDIR="${pkgdir}" install
}

