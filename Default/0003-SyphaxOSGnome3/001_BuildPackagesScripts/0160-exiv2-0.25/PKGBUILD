# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=exiv2
pkgver=0.25
pkgrel=1
pkgdesc="Exiv2 is a C++ library and a command line utility for managing image and video metadata."
arch=('x86_64')
url="http://www.exiv2.org"
license=('GPL')
groups=('desktop')
source=("$url/${pkgname}-${pkgver}.tar.gz")
md5sums=('258d4831b30f75a01e0234065c6c2806')
depends=('rootfs>=2.0.0')

prepare() {
   cd "$srcdir/${pkgname}-${pkgver}"
}

build() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   ./configure --prefix=/usr     \
               --enable-video    \
               --enable-webready \
               --without-ssh     \
               --disable-static
   make
}

package() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   make DESTDIR="${pkgdir}" install
   
   chmod -v 755 "${pkgdir}"/usr/lib/libexiv2.so
   
   #remove created static link
   rm -rf "${pkgdir}"/usr/lib/libexiv2.la
}

