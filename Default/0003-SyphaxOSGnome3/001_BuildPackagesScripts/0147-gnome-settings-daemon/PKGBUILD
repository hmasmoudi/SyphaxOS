# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=gnome-settings-daemon
pkgver=3.24.3
pkgrel=1
pkgdesc="The GNOME Settings Daemon is responsible for setting various parameters of a GNOME Session and the applications that run under it."
arch=('x86_64')
url="http://ftp.gnome.org/pub/gnome/sources/gnome-settings-daemon/3.24"
license=('GPL')
groups=('desktop')
source=("$url/${pkgname}-${pkgver}.tar.xz")
sha256sums=('68c46038bc32b7cbe933cc24fa9f1eb96127d9900c07627767ab0a802f948593')
depends=('rootfs>=2.0.0')

prepare() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   sed -i "/seems to be moved/s/^/#/" ltmain.sh
}

build() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   ./configure --prefix=/usr     \
               --sysconfdir=/etc \
               --disable-static
   make
}

package() {
   cd "$srcdir/${pkgname}-${pkgver}"
      
   make DESTDIR="${pkgdir}" udevrulesdir=/lib/udev/rules.d install
}

