# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=evolution-data-server
pkgver=3.26.3
pkgrel=2
pkgdesc="Evolution Data Server package provides a unified backend for programs that work with contacts, tasks, and calendar information."
arch=('x86_64')
url="http://ftp.gnome.org/pub/gnome/sources/evolution-data-server/3.26"
license=('GPL')
groups=('desktop')
source=("$url/${pkgname}-${pkgver}.tar.xz")
sha256sums=('63b1ae5f76be818862f455bf841b5ebb1ec3e1f4df6d3a16dc2be348b7e0a1c5')
depends=('rootfs')

prepare() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   cmake -DCMAKE_INSTALL_PREFIX=/usr -DLIBEXEC_INSTALL_DIR=/usr/lib/evolution-data-server -DSYSCONF_INSTALL_DIR=/etc -DENABLE_INTROSPECTION=ON -DENABLE_VALA_BINDINGS=ON -DENABLE_UOA=OFF -DENABLE_GOOGLE_AUTH=OFF -DENABLE_GTK_DOC=OFF -DWITH_OPENLDAP=OFF .
}

build() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   make
}

package() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   make DESTDIR="$pkgdir" install
}

