# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=evolution
pkgver=3.26.3
pkgrel=2
pkgdesc="Evolution. Evolution is a personal information management application that provides integrated mail, calendaring and address book functionality."
arch=('x86_64')
url="http://ftp.gnome.org/pub/gnome/sources/evolution/3.26"
license=('GPL')
install=${pkgname}.install
groups=('applications')
source=("$url/${pkgname}-${pkgver}.tar.xz")
sha256sums=('091621f21827e2dfb8057f3b2c3a215c4e97a692c59d0a4ee33108af571de60e')
depends=('rootfs'
         'libpst'
         'hyphen'
         'gtkspell3'
         'hunspell'
         'hunspell-en'
         'hunspell-en_GB'
         'hunspell-en_US'
         'hunspell-fr')

build() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   cmake -DCMAKE_INSTALL_PREFIX=/usr -DLIBEXEC_INSTALL_DIR=/usr/lib -DSYSCONF_INSTALL_DIR=/etc -DENABLE_SMIME=ON -DENABLE_GTK_SPELL=ON -DENABLE_PST_IMPORT=ON -DWITH_OPENLDAP=OFF -DENABLE_GTK_DOC=OFF -DENABLE_LIBCRYPTUI=OFF -DENABLE_TEXT_HIGHLIGHT=OFF -DENABLE_YTNEF=OFF .

   make
}

package() {
   cd "$srcdir/${pkgname}-${pkgver}"
   
   make DESTDIR="${pkgdir}" install
}

