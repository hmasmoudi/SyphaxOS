# Maintainer: Hatem Masmoudi <hatem.masmoudi@gmail.com>

pkgname=wayland
pkgver=1.14.0
pkgrel=6
pkgdesc="Wayland is a project to define a protocol for a compositor to talk to its clients as well as a library implementation of the protocol."
arch=('x86_64')
url="http://wayland.freedesktop.org/releases"
license=('GPL')
groups=('graphicslayer')
source=("$url/${pkgname}-${pkgver}.tar.xz")
md5sums=('SKIP')
depends=('rootfs')

build() {
   cd "$srcdir/$pkgname-$pkgver"

   ./configure --prefix=/usr    \
               --disable-static \
               --disable-documentation
   
   make
}

package() {
   cd "$srcdir/$pkgname-$pkgver"
   
   #Create Needed System Link needed for package install
   mkdir -p $pkgdir/lib
   mkdir -p $pkgdir/usr/lib
   ln -snfv lib $pkgdir/lib64
   ln -snfv lib $pkgdir/usr/lib64

   #Make the package
   make DESTDIR="$pkgdir" install
   
   #Remove Used System Link during package install
   rm -rf $pkgdir/lib64
   rm -rf $pkgdir/usr/lib64
}

